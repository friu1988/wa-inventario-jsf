<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./../template-hee.xhtml">

            <ui:define name="Registro de Dispositivos">
                title
            </ui:define>

            <ui:define name="content">
                <h:form id="frm_equipo">
            <p:panel id="panel">
                <h:panelGroup id="pnl_group">
                    <p:panelGrid id="pnl_grid" style="width:100%">
                        <f:facet name="header">
                            <p:row>
                                <p:column colspan="6">Registro de Dispositivos</p:column>
                            </p:row>
                        </f:facet>
                        <p:row>
                            <p:column>
                                <p:outputLabel for="cbx_tipo_eq" value="Equipo: "/>                                        
                            </p:column>
                            <p:column colspan="3">
                                <p:selectOneMenu id="cbx_tipo_eq" value="#{mBBienes.categoria.tbSerial}" required="true" disabled="#{mBBienes.bol_det eq true}">
                                    <f:selectItem  itemLabel=""/>
                                    <f:selectItems  value="#{tTipoBienController.dispositvos}" var="tipo" itemValue="#{tipo.tbSerial}" itemLabel="#{tipo.tbNombre}"/>
                                    <f:ajax render="cbx_tipo_eq"/>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column>
                                <p:outputLabel value="Código HEE: " for="lbl_chee"/>
                            </p:column>
                            <p:column>
                                <p:inputText id="lbl_chee" style="width:100%" value="#{mBBienes.equipo.BCodigoHee}" placeholder="No asignado" required="true" disabled="#{mBBienes.bol_det eq true}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column rowspan="2"> 
                                <p:outputLabel value="Servicio:" for="cbx_servicio"/>
                            </p:column>
                            <p:column colspan="3"> 
                                <p:selectOneMenu id="cbx_servicio" value="#{mBBienes.servicio.SSerial}" required="true"  disabled="#{mBBienes.bol_det eq true}">
                                    <f:selectItems value="#{tServicioController.items}" var="ser" itemValue="#{ser.SSerial}" itemLabel="#{ser.SNombre}"/>
                                    <f:ajax render="cbx_servicio"/>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column>
                                <p:outputLabel value="Personal a cargo: " for="cbx_responsable"/>
                            </p:column>
                            <p:column>
                                <p:selectOneMenu id="cbx_responsable" value="#{mBBienes.responsabe.RSerial}" required="true"  disabled="#{mBBienes.bol_det eq true}">
                                    <f:selectItems value="#{tResponsableController.items}" var="resp" itemValue="#{resp.RSerial}" itemLabel="#{resp.RNombres}"/>
                                    <f:ajax render="cbx_responsable"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="5" styleClass="ui-widget-header">
                                <p:spacer height="0"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <p:outputLabel value="Marca: " for="cbx_marc"/>
                            </p:column>
                            <p:column>
                                <p:selectOneMenu id="cbx_marc" value="#{mBBienes.marca.MSerial}" required="true" disabled="#{mBBienes.bol_det eq true}">
                                    <f:selectItem itemLabel=""/>
                                    <f:selectItems value="#{tMarcaController.items}" var="mar" itemValue="#{mar.MSerial}" itemLabel="#{mar.MNombre}"/>
                                    <f:ajax render="cbx_marc"/>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column>
                                <p:outputLabel value="Modelo: " for="cbx_mod"/>
                            </p:column>
                            <p:column>
                                <p:inputText id="cbx_mod" style="width:100%" value="#{mBBienes.equipo.BModelo}" size="10"  placeholder="No aplica" disabled="#{mBBienes.bol_det eq true}"/>
                            </p:column>
                            <p:column>
                                <p:outputLabel value="Serie: " for="cbx_serie"/>
                            </p:column>
                            <p:column>
                                <p:inputText id="cbx_serie" required="true" style="width:100%" value="#{mBBienes.equipo.BSerie}" size="10"  placeholder="No aplica" disabled="#{mBBienes.bol_det eq true}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <p:outputLabel value="Capacidad: " for="lbl_cap" />
                            </p:column>
                            <p:column>
                                <p:inputText id="lbl_cap" style="width:100%" value="#{mBBienes.equipo.BCapacidad}" size="10" placeholder="No aplica" disabled="#{mBBienes.bol_det eq true}"/>
                            </p:column>
                            <p:column>
                                <p:outputLabel value="Tipo: " for="cbx_tipo"/>
                            </p:column>
                            <p:column>
                                <p:inputText id="cbx_tipo" style="width:100%" value="#{mBBienes.equipo.BTipo}" size="10"  placeholder="No aplica" disabled="#{mBBienes.bol_det eq true}"/>
                            </p:column>
                            <p:column>
                                <p:outputLabel value="Estado: " for="chk_estado_dos" />
                            </p:column>
                            <p:column>
                                <p:selectBooleanCheckbox id="chk_estado_dos" style="alignment-adjust: central" value="#{mBBienes.equipo.BEstado}" disabled="#{mBBienes.bol_det eq true}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column rowspan="2">
                                <p:outputLabel value="Sistema Operativo: " for="cbx_sop"/>
                            </p:column>
                            <p:column colspan="3">
                                <p:selectOneMenu id="cbx_sop" value="#{mBBienes.sistema.soSerial}" required="true"  disabled="#{mBBienes.bol_det eq true}">
                                    <f:selectItems value="#{tSistemaOperativoController.items}" var="so" itemValue="#{so.soSerial}" itemLabel="#{so.soCadena}"/>
                                    <f:ajax render="cbx_sop"/>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column>
                                <p:outputLabel value="IP-Address: " for="lbl_ip"/>
                            </p:column>
                            <p:column>
                                <p:inputText id="lbl_ip" style="width:100%" value="#{mBBienes.equipo.BIpAdress}" size="43" placeholder="No aplica" disabled="#{mBBienes.bol_det eq true}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="5" styleClass="ui-widget-header">
                                <p:spacer height="0"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <p:outputLabel value="Observación:" for="cbx_obs"/>
                            </p:column>
                            <p:column colspan="5">
                                <p:inputTextarea id="cbx_obs" style="width:100%" value="#{mBBienes.equipo.BDescripcion}" disabled="#{mBBienes.bol_det eq true}"/>
                            </p:column>
                        </p:row>
                        <f:facet name="footer">
                            <p:row>
                                <p:column colspan="6">
                                    <p:commandButton id="btn_reg" value="Registrar" icon="ui-icon-disk" rendered="#{mBBienes.bol_det eq false}" actionListener="#{mBBienes.crearEquipo()}" action="/tBien/tabla_dispositivos" update=":frm_equipo :growl"/>
                                    <p:commandButton id="btn_new" value="Crear Dispositivo nuevo" icon="ui-icon-refresh" rendered="#{mBBienes.bol_det eq true}" actionListener="#{mBBienes.limpiar()}" update=":frm_equipo"/>          
                                </p:column>
                            </p:row>
                        </f:facet>
                    </p:panelGrid>
                </h:panelGroup>
            </p:panel>
            <p:separator/>
            
        </h:form>
      
   
            </ui:define>

        </ui:composition>

    </body>
</html>
